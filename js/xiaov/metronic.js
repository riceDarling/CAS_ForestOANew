var Metronic=function(){var E=false;var c=false;var d=false;var L=false;var F=[];var h="../../assets/";var T="global/img/";var S="global/plugins/";var a="global/css/";var P={"blue":"#89C4F4","red":"#F3565D","green":"#1bbc9b","purple":"#9b59b6","grey":"#95a5a6","yellow":"#F8CB00"};var e=function(){if($("body").css("direction")==="rtl"){E=true}c=!!navigator.userAgent.match(/MSIE 8.0/);d=!!navigator.userAgent.match(/MSIE 9.0/);L=!!navigator.userAgent.match(/MSIE 10.0/);if(L){$("html").addClass("ie10")}if(L||d||c){$("html").addClass("ie")}};var I=function(){for(var k=0;k<F.length;k++){var j=F[k];j.call()}};var N=function(){var i;if(c){var j;$(window).resize(function(){if(j==document.documentElement.clientHeight){return}if(i){clearTimeout(i)}i=setTimeout(function(){I()},50);j=document.documentElement.clientHeight})}else{$(window).resize(function(){if(i){clearTimeout(i)}i=setTimeout(function(){I()},50)})}};var g=function(){$("body").on("click",".portlet > .portlet-title > .tools > a.remove",function(j){j.preventDefault();var i=$(this).closest(".portlet");if($("body").hasClass("page-portlet-fullscreen")){$("body").removeClass("page-portlet-fullscreen")}i.find(".portlet-title .fullscreen").tooltip("destroy");i.find(".portlet-title > .tools > .reload").tooltip("destroy");i.find(".portlet-title > .tools > .remove").tooltip("destroy");i.find(".portlet-title > .tools > .config").tooltip("destroy");i.find(".portlet-title > .tools > .collapse, .portlet > .portlet-title > .tools > .expand").tooltip("destroy");i.remove()});$("body").on("click",".portlet > .portlet-title .fullscreen",function(j){j.preventDefault();var i=$(this).closest(".portlet");if(i.hasClass("portlet-fullscreen")){$(this).removeClass("on");i.removeClass("portlet-fullscreen");$("body").removeClass("page-portlet-fullscreen");i.children(".portlet-body").css("height","auto")}else{var k=Metronic.getViewPort().height-i.children(".portlet-title").outerHeight()-parseInt(i.children(".portlet-body").css("padding-top"))-parseInt(i.children(".portlet-body").css("padding-bottom"));$(this).addClass("on");i.addClass("portlet-fullscreen");$("body").addClass("page-portlet-fullscreen");i.children(".portlet-body").css("height",k)}});$("body").on("click",".portlet > .portlet-title > .tools > a.reload",function(j){j.preventDefault();var i=$(this).closest(".portlet").children(".portlet-body");var l=$(this).attr("data-url");var k=$(this).attr("data-error-display");if(l){Metronic.blockUI({target:i,animate:true,overlayColor:"none"});$.ajax({type:"GET",cache:false,url:l,dataType:"html",success:function(m){Metronic.unblockUI(i);i.html(m)},error:function(o,n,m){Metronic.unblockUI(i);var p="Error on reloading the content. Please check your connection and try again.";if(k=="toastr"&&toastr){toastr.error(p)}else{if(k=="notific8"&&$.notific8){$.notific8("zindex",11500);$.notific8(p,{theme:"ruby",life:3000})}else{alert(p)}}}})}else{Metronic.blockUI({target:i,animate:true,overlayColor:"none"});window.setTimeout(function(){Metronic.unblockUI(i)},1000)}});$('.portlet .portlet-title a.reload[data-load="true"]').click();$("body").on("click",".portlet > .portlet-title > .tools > .collapse, .portlet .portlet-title > .tools > .expand",function(j){j.preventDefault();var i=$(this).closest(".portlet").children(".portlet-body");if($(this).hasClass("collapse")){$(this).removeClass("collapse").addClass("expand");i.slideUp(200)}else{$(this).removeClass("expand").addClass("collapse");i.slideDown(200)}})};var f=function(){if(!$().uniform){return}var i=$("input[type=checkbox]:not(.toggle, .md-check, .md-radiobtn, .make-switch, .icheck), input[type=radio]:not(.toggle, .md-check, .md-radiobtn, .star, .make-switch, .icheck)");if(i.size()>0){i.each(function(){if($(this).parents(".checker").size()===0){$(this).show();$(this).uniform()}})}};var X=function(){$("body").on("click",".md-checkbox > label, .md-radio > label",function(){var o=$(this);var q=$(this).children("span:first-child");q.addClass("inc");var p=q.clone(true);q.before(p);$("."+q.attr("class")+":last",o).remove()});if($("body").hasClass("page-md")){var m,i,j,k,l;$("body").on("click","a.btn, button.btn, input.btn, label.btn",function(o){m=$(this);if(m.find(".md-click-circle").length==0){m.prepend("<span class='md-click-circle'></span>")}i=m.find(".md-click-circle");i.removeClass("md-click-animate");if(!i.height()&&!i.width()){j=Math.max(m.outerWidth(),m.outerHeight());i.css({height:j,width:j})}k=o.pageX-m.offset().left-i.width()/2;l=o.pageY-m.offset().top-i.height()/2;i.css({top:l+"px",left:k+"px"}).addClass("md-click-animate");setTimeout(function(){i.remove()},1000)})}var n=function(o){if(o.val()!=""){o.addClass("edited")}else{o.removeClass("edited")}};$("body").on("keydown",".form-md-floating-label .form-control",function(o){n($(this))});$("body").on("blur",".form-md-floating-label .form-control",function(o){n($(this))});$(".form-md-floating-label .form-control").each(function(){if($(this).val().length>0){$(this).addClass("edited")}})};var R=function(){if(!$().iCheck){return}$(".icheck").each(function(){var i=$(this).attr("data-checkbox")?$(this).attr("data-checkbox"):"icheckbox_minimal-grey";var j=$(this).attr("data-radio")?$(this).attr("data-radio"):"iradio_minimal-grey";if(i.indexOf("_line")>-1||j.indexOf("_line")>-1){$(this).iCheck({checkboxClass:i,radioClass:j,insert:'<div class="icheck_line-icon"></div>'+$(this).attr("data-label")})}else{$(this).iCheck({checkboxClass:i,radioClass:j})}})};var W=function(){if(!$().bootstrapSwitch){return}$(".make-switch").bootstrapSwitch()};var Q=function(){if(!$().confirmation){return}$("[data-toggle=confirmation]").confirmation({container:"body",btnOkClass:"btn btn-sm btn-success",btnCancelClass:"btn btn-sm btn-danger"})};var A=function(){$("body").on("shown.bs.collapse",".accordion.scrollable",function(i){Metronic.scrollTo($(i.target))})};var M=function(){if(location.hash){var i=encodeURI(location.hash.substr(1));$('a[href="#'+i+'"]').parents(".tab-pane:hidden").each(function(){var j=$(this).attr("id");$('a[href="#'+j+'"]').click()});$('a[href="#'+i+'"]').click()}if($().tabdrop){$(".tabbable-tabdrop .nav-pills, .tabbable-tabdrop .nav-tabs").tabdrop({text:'<i class="fa fa-ellipsis-v"></i>&nbsp;<i class="fa fa-angle-down"></i>'})}};var Z=function(){$("body").on("hide.bs.modal",function(){if($(".modal:visible").size()>1&&$("html").hasClass("modal-open")===false){$("html").addClass("modal-open")}else{if($(".modal:visible").size()<=1){$("html").removeClass("modal-open")}}});$("body").on("show.bs.modal",".modal",function(){if($(this).hasClass("modal-scroll")){$("body").addClass("modal-open-noscroll")}});$("body").on("hide.bs.modal",".modal",function(){$("body").removeClass("modal-open-noscroll")});$("body").on("hidden.bs.modal",".modal:not(.modal-cached)",function(){$(this).removeData("bs.modal")})};var D=function(){$(".tooltips").tooltip();$(".portlet > .portlet-title .fullscreen").tooltip({container:"body",title:"全屏"});$(".portlet > .portlet-title > .tools > .reload").tooltip({container:"body",title:"重装加载"});$(".portlet > .portlet-title > .tools > .remove").tooltip({container:"body",title:"移除"});$(".portlet > .portlet-title > .tools > .config").tooltip({container:"body",title:"设置"});$(".portlet > .portlet-title > .tools > .collapse, .portlet > .portlet-title > .tools > .expand").tooltip({container:"body",title:"展开/收缩"})};var U=function(){$("body").on("click",".dropdown-menu.hold-on-click",function(i){i.stopPropagation()})};var O=function(){$("body").on("click",'[data-close="alert"]',function(i){$(this).parent(".alert").hide();$(this).closest(".note").hide();i.preventDefault()});$("body").on("click",'[data-close="note"]',function(i){$(this).closest(".note").hide();i.preventDefault()});$("body").on("click",'[data-remove="note"]',function(i){$(this).closest(".note").remove();i.preventDefault()})};var K=function(){$('[data-hover="dropdown"]').not(".hover-initialized").each(function(){$(this).dropdownHover();$(this).addClass("hover-initialized")})};var V=function(){if(typeof(autosize)=="function"){autosize(document.querySelector("textarea.autosizeme"))}};var b;var Y=function(){$(".popovers").popover();$(document).on("click.bs.popover.data-api",function(i){if(b){b.popover("hide")}})};var J=function(){Metronic.initSlimScroll(".scroller")};var C=function(){if(!jQuery.fancybox){return}if($(".fancybox-button").size()>0){$(".fancybox-button").fancybox({groupAttr:"data-rel",prevEffect:"none",nextEffect:"none",closeBtn:true,helpers:{title:{type:"inside"}}})}};var B=function(){if(c||d){$("input[placeholder]:not(.placeholder-no-fix), textarea[placeholder]:not(.placeholder-no-fix)").each(function(){var i=$(this);if(i.val()===""&&i.attr("placeholder")!==""){i.addClass("placeholder").val(i.attr("placeholder"))}i.focus(function(){if(i.val()==i.attr("placeholder")){i.val("")}});i.blur(function(){if(i.val()===""||i.val()==i.attr("placeholder")){i.val(i.attr("placeholder"))}})})}};var G=function(){if($().select2){$(".select2me").select2({placeholder:"Select",allowClear:true})}};var H=function(){$("[data-auto-height]").each(function(){var m=$(this);var l=$("[data-height]",m);var i=0;var j=m.attr("data-mode");var k=parseInt(m.attr("data-offset")?m.attr("data-offset"):0);l.each(function(){if($(this).attr("data-height")=="height"){$(this).css("height","")}else{$(this).css("min-height","")}var n=(j=="base-height"?$(this).outerHeight():$(this).outerHeight(true));if(n>i){i=n}});i=i+k;l.each(function(){if($(this).attr("data-height")=="height"){$(this).css("height",i)}else{$(this).css("min-height",i)}})})};return{init:function(){e();N();X();f();R();W();J();C();G();g();O();U();M();D();Y();A();Z();Q();V();H();this.addResizeHandler(H);B()},initAjax:function(){f();R();W();K();J();G();C();U();D();Y();A();Q()},initComponents:function(){this.initAjax()},setLastPopedPopover:function(i){b=i},addResizeHandler:function(i){F.push(i)},runResizeHandlers:function(){I()},scrollTo:function(i,k){var j=(i&&i.size()>0)?i.offset().top:0;if(i){if($("body").hasClass("page-header-fixed")){j=j-$(".page-header").height()}else{if($("body").hasClass("page-header-top-fixed")){j=j-$(".page-header-top").height()}else{if($("body").hasClass("page-header-menu-fixed")){j=j-$(".page-header-menu").height()}}}j=j+(k?k:-1*i.height())}$("html,body").animate({scrollTop:j},"slow")},initSlimScroll:function(i){$(i).each(function(){if($(this).attr("data-initialized")){return}var j;if($(this).attr("data-height")){j=$(this).attr("data-height")}else{j=$(this).css("height")}$(this).slimScroll({allowPageScroll:true,size:"7px",color:($(this).attr("data-handle-color")?$(this).attr("data-handle-color"):"#bbb"),wrapperClass:($(this).attr("data-wrapper-class")?$(this).attr("data-wrapper-class"):"slimScrollDiv"),railColor:($(this).attr("data-rail-color")?$(this).attr("data-rail-color"):"#eaeaea"),position:E?"left":"right",height:j,alwaysVisible:($(this).attr("data-always-visible")=="1"?true:false),railVisible:($(this).attr("data-rail-visible")=="1"?true:false),disableFadeOut:true});$(this).attr("data-initialized","1")})},destroySlimScroll:function(i){$(i).each(function(){if($(this).attr("data-initialized")==="1"){$(this).removeAttr("data-initialized");$(this).removeAttr("style");var k={};if($(this).attr("data-handle-color")){k["data-handle-color"]=$(this).attr("data-handle-color")}if($(this).attr("data-wrapper-class")){k["data-wrapper-class"]=$(this).attr("data-wrapper-class")}if($(this).attr("data-rail-color")){k["data-rail-color"]=$(this).attr("data-rail-color")}if($(this).attr("data-always-visible")){k["data-always-visible"]=$(this).attr("data-always-visible")}if($(this).attr("data-rail-visible")){k["data-rail-visible"]=$(this).attr("data-rail-visible")}$(this).slimScroll({wrapperClass:($(this).attr("data-wrapper-class")?$(this).attr("data-wrapper-class"):"slimScrollDiv"),destroy:true});var j=$(this);$.each(k,function(l,m){j.attr(l,m)})}})},scrollTop:function(){Metronic.scrollTo()},blockUI:function(k){k=$.extend(true,{},k);var i="";if(k.animate){i='<div class="loading-message '+(k.boxed?"loading-message-boxed":"")+'"><img src="'+this.getGlobalImgPath()+'loading-spinner-blue.gif" /></div></div>'}else{if(k.iconOnly){i='<div class="loading-message '+(k.boxed?"loading-message-boxed":"")+'"><img src="'+this.getGlobalImgPath()+'loading-spinner-grey.gif" align=""></div>'}else{if(k.textOnly){i='<div class="loading-message '+(k.boxed?"loading-message-boxed":"")+'"><span>&nbsp;&nbsp;'+(k.message?k.message:"加载中...")+"</span></div>"}else{i='<div class="loading-message '+(k.boxed?"loading-message-boxed":"")+'"><img src="'+this.getGlobalImgPath()+'loading-spinner-grey.gif" align=""><span>&nbsp;&nbsp;'+(k.message?k.message:"加载中...")+"</span></div>"}}}if(k.target){var j=$(k.target);if(j.height()<=($(window).height())){k.cenrerY=true}j.block({message:i,baseZ:k.zIndex?k.zIndex:1000,centerY:k.cenrerY!==undefined?k.cenrerY:false,css:{top:"10%",border:"0",padding:"0",backgroundColor:"none"},overlayCSS:{backgroundColor:k.overlayColor?k.overlayColor:"#555",opacity:k.boxed?0.05:0.1,cursor:"wait"}})}else{$.blockUI({message:i,baseZ:k.zIndex?k.zIndex:1000,css:{border:"0",padding:"0",backgroundColor:"none"},overlayCSS:{backgroundColor:k.overlayColor?k.overlayColor:"#555",opacity:k.boxed?0.05:0.1,cursor:"wait"}})}},unblockUI:function(i){if(i){$(i).unblock({onUnblock:function(){$(i).css("position","");$(i).css("zoom","")}})}else{$.unblockUI()}},startPageLoading:function(i){if(i&&i.animate){$(".page-spinner-bar").remove();$("body").append('<div class="page-spinner-bar"><div class="bounce1"></div><div class="bounce2"></div><div class="bounce3"></div></div>')}else{$(".page-loading").remove();$("body").append('<div class="page-loading"><img src="'+this.getGlobalImgPath()+'loading-spinner-grey.gif"/>&nbsp;&nbsp;<span>'+(i&&i.message?i.message:"Loading...")+"</span></div>")}},stopPageLoading:function(){$(".page-loading, .page-spinner-bar").remove()},alert:function(j){j=$.extend(true,{container:"",place:"append",type:"success",message:"",close:true,reset:true,focus:true,closeInSeconds:0,icon:""},j);var k=Metronic.getUniqueID("Metronic_alert");var i='<div id="'+k+'" class="Metronic-alerts alert alert-'+j.type+' fade in">'+(j.close?'<button type="button" class="close" data-dismiss="alert" aria-hidden="true"></button>':"")+(j.icon!==""?'<i class="fa-lg fa fa-'+j.icon+'"></i>  ':"")+j.message+"</div>";if(j.reset){$(".Metronic-alerts").remove()}if(!j.container){if($("body").hasClass("page-container-bg-solid")){$(".page-title").after(i)}else{if($(".page-bar").size()>0){$(".page-bar").after(i)}else{$(".page-breadcrumb").after(i)}}}else{if(j.place=="append"){$(j.container).append(i)}else{$(j.container).prepend(i)}}if(j.focus){}if(j.closeInSeconds>0){setTimeout(function(){$("#"+k).remove()},j.closeInSeconds*1000)}return k},initUniform:function(i){if(i){$(i).each(function(){if($(this).parents(".checker").size()===0){$(this).show();$(this).uniform()}})}else{f()}},updateUniform:function(i){$.uniform.update(i)},initFancybox:function(){C()},getActualVal:function(i){i=$(i);if(i.val()===i.attr("placeholder")){return""}return i.val()},getURLParameter:function(m){var k=window.location.search.substring(1),j,l,n=k.split("&");for(j=0;j<n.length;j++){l=n[j].split("=");if(l[0]==m){return unescape(l[1])}}return null},isTouchDevice:function(){try{document.createEvent("TouchEvent");return true}catch(i){return false}},getViewPort:function(){var i=window,j="inner";if(!("innerWidth" in window)){j="client";i=document.documentElement||document.body}return{width:i[j+"Width"],height:i[j+"Height"]}},getUniqueID:function(i){return"prefix_"+Math.floor(Math.random()*(new Date()).getTime())},isIE8:function(){return c},isIE9:function(){return d},isRTL:function(){return E},isAngularJsApp:function(){return(typeof angular=="undefined")?false:true},getAssetsPath:function(){return h},setAssetsPath:function(i){h=i},setGlobalImgPath:function(i){T=i},getGlobalImgPath:function(){return h+T},setGlobalPluginsPath:function(i){S=i},getGlobalPluginsPath:function(){return h+S},getGlobalCssPath:function(){return h+a},getBrandColor:function(i){if(P[i]){return P[i]}else{return""}},getResponsiveBreakpoint:function(i){var j={"xs":480,"sm":768,"md":992,"lg":1200};return j[i]?j[i]:0}}}();